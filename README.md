Описание:
Это Spring Boot приложение для управления пользователями и их паспортными данными. Оно предоставляет веб-интерфейс (Thymeleaf) для CRUD-операций с пользователями (User) и паспортами (Passport). Приложение использует MySQL для базы данных, поддерживает аутентификацию с ролями (USER, ADMIN), пагинацию, сортировку, поиск паспортов по номеру и валидацию данных. Полностью контейнеризовано с использованием Docker.

Функции:
Аутентификация и авторизация: Регистрация/логин пользователей с ролями (USER, ADMIN). Доступ к управлению пользователями и паспортами только для админов.
Управление пользователями: Создание, чтение, обновление, удаление пользователей с пагинацией и сортировкой по дате рождения.
Управление паспортами: Создание, чтение, обновление, удаление паспортов с привязкой к пользователям. Автоматический расчет контрольной цифры, проверка уникальности серии/номера, статус паспорта (Active/Blocked).
Поиск паспортов: Поиск по части номера паспорта.
Валидация: Проверка данных пользователей и паспортов (возраст, email, формат серии/номера и т.д.).
Веб-интерфейс: Страницы для просмотра и управления данными (Thymeleaf).
Пагинация и сортировка: Кастомная пагинация с сортировкой по полям (например, дата рождения, ID).
Требования
Java 17 или выше (для сборки)
Maven 3.6+
MySQL (для базы данных)
Docker (опционально, для контейнеризации)
Установка и запуск
Клонируйте репозиторий:


Copy code:
git clone https://github.com/terox123/User-Passport-Boot-Application.git
cd User-Passport-Boot-Application
Настройте базу данных: Создайте базу данных mydbtest в MySQL и обновите src/main/resources/application.properties с вашими учетными данными (по умолчанию: пользователь root, пароль Bilut2006b12).

Соберите JAR-файл:


./mvnw clean package -DskipTests
Запустите приложение:



./mvnw spring-boot:run
Приложение будет доступно по адресу: http://localhost:8080

Запуск с Docker
Соберите Docker-образ:



docker build -t user-passport-app .
Запустите контейнер (предварительно настройте MySQL локально или через Docker):



docker run -p 8080:8080 user-passport-app
API Эндпоинты (Веб-интерфейс)
GET / - Главная страница (требует роли USER или ADMIN).
GET /auth/login - Страница логина.
GET /auth/registration - Страница регистрации.
POST /auth/registration - Регистрация пользователя.
GET /users - Список пользователей (с пагинацией и сортировкой: ?sort=old или ?sort=young; доступ только ADMIN).
GET /users/{id} - Просмотр пользователя и его паспорта.
GET /users/new - Форма создания пользователя.
POST /users - Создание пользователя.
GET /users/{id}/edit - Форма редактирования пользователя.
POST /users/{id} - Обновление пользователя.
GET /users/{id}/delete - Подтверждение удаления пользователя.
POST /users/{id}/delete - Удаление пользователя.
GET /passports - Список паспортов (с пагинацией и сортировкой по полям: ?sortBy=id&direction=asc; доступ только ADMIN).
GET /passports/{id} - Просмотр паспорта.
GET /passports/new - Форма создания паспорта (выбор пользователя).
POST /passports - Создание паспорта.
GET /passports/{id}/edit - Форма редактирования паспорта.
POST /passports/{id} - Обновление паспорта.
GET /passports/{id}/delete - Подтверждение удаления паспорта.
POST /passports/{id}/delete - Удаление паспорта.
GET /passports/search - Страница поиска паспорта по номеру.
GET /passports/search/results - Результаты поиска (параметр numberPart).
Конфигурация
Основные настройки в src/main/resources/application.properties:

База данных: MySQL (драйвер: com.mysql.cj.jdbc.Driver, URL: jdbc:mysql://localhost:3306/mydbtest, пользователь: root, пароль: Bilut2006b12).
JPA/Hibernate: Диалект MySQL, показ SQL-запросов.
Валидация: Отключена для тестов (jakarta.persistence.validation.mode=none).
Для продакшена настройте переменные окружения или внешние конфигурационные файлы.
